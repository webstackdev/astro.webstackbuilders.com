const c=["keydown","mousemove","wheel","touchmove","touchstart","touchend"];class t{static instance=null;scripts=[];timeoutID=null;isExecuted=!1;isInitialized=!1;constructor(){}static getInstance(){return t.instance||(t.instance=new t),t.instance}registerScripts(e){if(this.isExecuted){e.forEach(s=>s());return}this.scripts.push(...e),this.isInitialized||this.initialize()}initialize(){this.isInitialized=!0;const e=i=>{this.executeScripts(),this.removeEventListeners(i.type)},s=i=>{const a=n=>{document.removeEventListener(n,e,{capture:!1})};c.filter(n=>n!==i).forEach(a)};this.removeEventListeners=s;const u=()=>{this.executeScripts(),s()};this.timeoutID=window.setTimeout(u,5e3);const r={once:!0,passive:!0};c.forEach(i=>{document.addEventListener(i,e,r)})}executeScripts(){this.isExecuted||(this.isExecuted=!0,this.timeoutID!==null&&(clearTimeout(this.timeoutID),this.timeoutID=null),this.scripts.forEach(e=>e()))}removeEventListeners=()=>{};static reset(){t.instance&&(t.instance.timeoutID!==null&&clearTimeout(t.instance.timeoutID),t.instance=null)}}const h=o=>{t.getInstance().registerScripts(o)};export{h as a};
