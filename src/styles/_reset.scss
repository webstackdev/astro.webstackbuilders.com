/**
 * CSS Reset Extensions
 * Additional reset styles beyond Tailwind's Preflight
 * Only includes custom enhancements not covered by Tailwind
 */

/**
 * Allow percentage-based heights in the application
 * (Not included in Tailwind Preflight)
 */
html, body {
  height: 100%;
}

html {
  overflow-x: hidden;
  overflow-y: scroll;
}

/**
 * Set core body defaults with custom variables
 */
body {
  background-color: var(--color-bg);
  color: var(--color-text);
  /** Create a new block formatting context on the <body> element */
  display: flow-root;
  /** Meet WCAG criteria, use custom line-height variable */
  line-height: var(--line-height-default);
  min-height: 100vh;
  /**
   * Overflow must be hidden on both <html> and <body> to avoid triggering
   * horizontal scrolling
   */
  overflow-x: hidden;
  transition: color 0.15s, background-color 0.15s;
}

/**
 * Appearance of selected DOM nodes
 * (Custom selection styling)
 */
::selection {
  background: var(--color-primary-offset);
  color: var(--color-primary);
}

/**
 * Custom link styling with dotted underlines
 * (Enhanced beyond Tailwind's default)
 */
a {
  color: var(--color-text);
  text-decoration: underline dotted var(--color-primary);

  &:hover,
  &:focus {
    color: var(--color-secondary);
  }
}

/**
 * Abbreviations and acronyms
 * (Enhancement not in Tailwind Preflight)
 */
abbr[title] {
  cursor: help;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 * (Enhancement not in Tailwind Preflight)
 */
audio:not([controls]) {
  display: none;
  height: 0;
}

/**
 * Margin not present in Safari. Overridden in page footer.
 * (Custom enhancement)
 */
footer {
  margin-top: 1rem;
}

/**
 * Help prevent overflow of long words/names/URLs
 * (Enhancement not in Tailwind Preflight)
 */
p, li, h1, h2, h3, h4, h5, h6 {
  overflow-wrap: break-word;
  word-break: break-word;
  /** Allow hyphens */
  hyphens: auto;
}

/**
 * Contain overflow in all browsers.
 * (Enhancement not in Tailwind Preflight)
 */
pre {
  overflow: auto;
}

/**
 * Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.
 * (Enhancement not in Tailwind Preflight)
 */
progress {
  vertical-align: baseline;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 * Font-size set to 75% and line-height to 0 in typography.
 * (Positioning enhancement)
 */
sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

/**
 * Resize textarea vertically so they don't break their horizontal containers.
 * (Enhancement not in Tailwind Preflight)
 */
textarea {
  resize: vertical;
}

/**
 * Table cell padding reset
 * (Enhancement beyond Tailwind's border-collapse)
 */
td,
th {
  padding: 0;
}
