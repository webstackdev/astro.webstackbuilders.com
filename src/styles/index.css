/** Theme colors - import first */
@import "./theme-inline.css";
@import "./themes/dark.css";
@import "./themes/a11y.css";
@import "./themes/light.css";

/**
 * Explicit cascade layer order.
 * Tailwind defines its layers (base/components/utilities) internally.
 * We keep our overrides layered and imported after Tailwind.
 */
@layer reset, base, components, utilities;

/** Tailwind CSS base, components, and utilities */
@import "tailwindcss";

/**
 * Global CSS overrides.
 * These load after Tailwind so single-class selectors win predictably.
 */
@import "./reset.css" layer(reset);
@import "./fonts.css" layer(base);
@import "./typography.css";
@import "./focus.css";
@import "./markdown.css" layer(components);
@import "./vendor/carousel.css" layer(components);
@import "./general.css" layer(components);
@import "./print.css" layer(utilities);

/** Shiki code highlighting adapted to themes */
@import "./code-highlighting/general.css" layer(components);
@import "./code-highlighting/root.css" layer(components);

/** Replaces "content" key in Tailwind config */
@source "../../src/**/*.{astro,ts,tsx,md,mdx}";
@source "!../../test/**/*";

/** New CSS directive in v4 to import Tailwind plugins */
@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/typography";

@theme {
  /** Breakpoints */
  --breakpoint-xs: 28em; /** 416 px */
  --breakpoint-sm: 40em; /** 640 px */
  --breakpoint-md: 48em; /** 768 px */
  --breakpoint-lg: 64em; /** 1024 px */
  --breakpoint-xl: 80em; /** 1280 px */
  --breakpoint-2xl: 96em; /** 1536 px */

  /** Z-index layering system */
  --z-titlebar: 9999;
  --z-modal: 999;
  --z-nav: 100;
  --z-mobile-splash: 110;
  --z-mobile-menu: 120;
  --z-mobile-close-btn: 130;
  --z-mobile-menu-item: 130;
  --z-content-floating: 50;
  --z-content-scrim: 40;
  --z-content-overlay: 30;
  --z-raised: 10;
  --z-underlay: -1;
}
