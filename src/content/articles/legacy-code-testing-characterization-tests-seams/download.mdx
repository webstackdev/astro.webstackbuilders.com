---
title: "Adding Tests to Untestable Legacy Code"
description: "Techniques for getting a test harness around code that was never designed for testability."
author: "kevin-brown"
cover: "./download.jpg"
coverAlt: "Bomb disposal expert analyzing complex device with mirrors and identifying safe cutting points, representing careful legacy code refactoring with characterization tests"
publishDate: 2023-03-19
isDraft: false
fileType: "PDF"
fileSize: "1.6 MB"
pages: 32
fileName: "legacy-code-testing-characterization-tests-seams.pdf"
---

You've inherited code with no tests: tightly coupled classes, inline dependencies, global state, 2,000-line methods. Every standard advice assumes testability was built in. The paradox is realâ€”you can't refactor safely without tests, but you can't write tests without refactoring. A team inherited an `OrderProcessor` that created its own database connections, sent emails directly, called external APIs, and read from scattered configuration files. They couldn't test it. Within two weeks using seam and characterization techniques, they had 80% of critical paths under test without changing production behavior. The "untestable" code became testable.

Focus on getting enough safety net to change the code you need to change, not comprehensive coverage of code that works fine.

This complete guide teaches you:

<List
  variant="check-icons-list"
  items={[
    { text: "Characterization tests: capturing observed behavior without specifications" },
    { text: "Behavior discovery: using test failures to document what code actually does" },
    { text: "The Seam Model: finding injection points in tightly coupled code" },
    { text: "Seam injection: link seams, object seams, and preprocessor seams" },
    { text: "Sprout Methods and Wrap Methods for surgical dependency isolation" },
    { text: "Testing through APIs versus testing internals" },
    { text: "Exposing hidden dependencies: detecting databases, files, and external calls" },
    { text: "Legacy code refactoring safety: incrementally increasing testability" },
    { text: "Deciding when to test versus when to replace" },
  ]}
/>

Download Your Legacy Code Testing Guide now to add safety nets around inherited code without major rewrites.
