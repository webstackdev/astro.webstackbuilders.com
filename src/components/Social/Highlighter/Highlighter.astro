---
/**
 * Highlighter Component
 *
 * Creates a shareable text highlight with a hover dialog showing social share options.
 * Users can share selected text to X, LinkedIn, Bluesky, Reddit, or copy a link.
 *
 * @example MDX Usage
 * ```mdx
 * import { Highlighter } from '@components/Social/Highlighter'
 *
 * This is <Highlighter>shareable text</Highlighter> that shows share options on hover.
 * ```
 *
 * @example With Custom Label
 * ```mdx
 * <Highlighter ariaLabel="Share this insight">important insight</Highlighter>
 * ```
 */

interface Props {
  /**
   * Custom aria-label for accessibility
   * @default 'Share this'
   */
  ariaLabel?: string

  /**
   * Additional CSS classes
   */
  class?: string
}

const { ariaLabel, class: className } = Astro.props
---

<highlighter-element aria-label={ariaLabel} class={className}>
  <slot />
</highlighter-element>

<script>
  import { Highlighter } from '@components/Social/Highlighter/client'

  // Initialize highlighter with Astro View Transitions
  document.addEventListener('astro:page-load', () => {
    Highlighter.init()
  })
</script>