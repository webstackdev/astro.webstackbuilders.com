---
/**
 * Social Card Preview Component
 * Shows a preview of what the social media card will look like
 */

export interface Props {
  /** Card title */
  title: string
  /** Card description */
  description?: string
  /** Publication date */
  date?: string
  /** Additional CSS classes */
  class?: string
  /** Preview mode - shows a smaller version */
  preview?: boolean
}

const {
  title,
  description,
  date,
  class: additionalClasses = '',
  preview = false
} = Astro.props

// Base container classes with Tailwind utilities
const containerClasses = [
  // Base social card styles
  'relative flex flex-col justify-center items-center overflow-hidden rounded-xl text-white font-sans box-border',
  // Background gradient
  'bg-gradient-to-br from-slate-900 to-blue-600',
  // Size and padding based on preview mode
  preview
    ? 'w-[600px] h-[315px] p-8 max-w-full aspect-[600/315] xl:w-full sm:p-5'
    : 'w-[1200px] h-[630px] p-16 max-w-full aspect-[1200/630] xl:w-full',
  additionalClasses
].filter(Boolean).join(' ')

// Content max-width based on preview mode
const contentClasses = [
  'text-center z-[2]',
  preview ? 'max-w-[500px]' : 'max-w-[1000px]'
].join(' ')

// Title classes based on preview mode
const titleClasses = [
  'font-medium text-white leading-tight',
  'drop-shadow-[0_2px_4px_rgba(0,0,0,0.3)]',
  preview
    ? 'text-2xl mb-4 sm:text-xl'
    : 'text-6xl mb-8'
].join(' ')

// Description classes based on preview mode
const descriptionClasses = [
  'leading-relaxed opacity-90',
  'drop-shadow-[0_1px_2px_rgba(0,0,0,0.2)]',
  preview
    ? 'text-base mb-2 sm:text-sm'
    : 'text-2xl mb-4'
].join(' ')

// Date classes based on preview mode
const dateClasses = [
  'opacity-80 italic',
  preview
    ? 'text-xs sm:text-xs'
    : 'text-xl'
].join(' ')

// Brand classes based on preview mode
const brandClasses = [
  'absolute font-bold opacity-80 z-[2]',
  'drop-shadow-[0_1px_2px_rgba(0,0,0,0.2)]',
  preview
    ? 'bottom-5 right-5 text-sm'
    : 'bottom-10 right-10 text-3xl'
].join(' ')
---

<div class={containerClasses}>
  <!-- Decorative elements -->
  <div class="absolute inset-0 pointer-events-none">
    <!-- Decoration 1 -->
    <div class={`absolute rounded-full bg-white/10 ${preview ? 'w-24 h-24 -top-12 -left-12' : 'w-48 h-48 -top-24 -left-24'}`}></div>
    <!-- Decoration 2 -->
    <div class={`absolute rounded-full bg-white/5 ${preview ? 'w-20 h-20 -bottom-10 -right-10' : 'w-36 h-36 -bottom-16 -right-16'}`}></div>
  </div>

  <!-- Content -->
  <div class={contentClasses}>
    <h1 class={titleClasses}>{title}</h1>
    {description && (
      <p class={descriptionClasses}>{description}</p>
    )}
    {date && (
      <div class={dateClasses}>Published on {date}</div>
    )}
  </div>

  <!-- Brand -->
  <div class={brandClasses}>Webstack Builders</div>
</div>

