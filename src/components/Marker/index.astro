---
import { getMarkerComponent } from '@components/Marker/server'

export type Props = {
  icon: string
  color?: string
  size?: number
  classes?: string
  accessible?: boolean
  focusable?: boolean
  isListMarker?: boolean
}

const { icon, color, size, classes, accessible = false, focusable = false, isListMarker = false }: Props = Astro.props

const MarkerComponent = getMarkerComponent(icon) as unknown as (_props: {
  color?: string
  size?: number
  classes?: string
  accessible?: boolean
  focusable?: boolean
  isListMarker?: boolean
}) => unknown

const markerProps = {
  ...(color ? { color } : {}),
  ...(size !== undefined ? { size } : {}),
  ...(classes ? { classes } : {}),
  ...(accessible ? { accessible } : {}),
  ...(focusable ? { focusable } : {}),
  ...(isListMarker ? { isListMarker } : {}),
}
---

<MarkerComponent {...markerProps} />
