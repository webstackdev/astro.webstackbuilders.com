---
import { getSchemas } from '@components/Head/server/structuredData'
export type { StructuredDataProps as Props } from '@components/Head/server/structuredData'

const {
  path,
  pageTitle,
  description,
  contentType,
  publishDate,
  modifiedDate,
  author,
  image,
} = Astro.props

const schemas = getSchemas({
  astro: Astro,
  path,
  pageTitle,
  ...(description && { description }),
  ...(contentType && { contentType }),
  ...(publishDate && { publishDate }),
  ...(modifiedDate && { modifiedDate }),
  ...(author && { author }),
  ...(image && { image }),
})
---

{schemas.map(schema => (
  <script is:inline type="application/ld+json" set:html={schema} />
))}
