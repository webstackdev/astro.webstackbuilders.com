---
import { getSchemas } from '@components/Head/server/structuredData'
export type { StructuredDataProps as Props } from '@components/Head/server/structuredData'

const { path, pageTitle, pageDescription, contentType, publishDate, modifiedDate, author } = Astro.props

const schemas = getSchemas({
  astro: Astro,
  path,
  pageTitle,
  ...(pageDescription && { pageDescription }),
  ...(contentType && { contentType }),
  ...(publishDate && { publishDate }),
  ...(modifiedDate && { modifiedDate }),
  ...(author && { author }),
})
---

{schemas.map(schema => <script is:inline type="application/ld+json" set:html={schema} />)}
