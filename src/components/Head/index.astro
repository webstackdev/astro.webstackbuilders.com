---
import { ClientRouter } from "astro:transitions"
import Meta from "@components/Head/Meta.astro"

export interface Props {
  pageTitle: string,
  path: string,
  description?: string,
  image?: string,
}

const { pageTitle, path, description, image } = Astro.props
---

<head>
  <title>{pageTitle}</title>
  {/* Site <meta> tags, Open Graph social tags, and favicon, PWA manifest, RSS, canonical, pingback, and webmention links */}
  <Meta pageTitle={pageTitle} path={path} {...(description && { description })} {...(image && { image })} />
  {/* Script tag with background colors keyed to theme names for setting initial */}
  {/* bg color and to set data-theme attribute on <html> element early           */}
  <script>
    {/* Set theme name on <html> element from storage early to prevent flash of unstyled content */}
    import { themeSetup } from "./fous"
    themeSetup()
  </script>
  {/* Client-side router for Astro pages (enables partial page reloads) */}
  {/* Must be placed at the end of the <head> to avoid blocking page rendering */}
  <ClientRouter />
</head>
