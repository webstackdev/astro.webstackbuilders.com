---
/**
 * Sprite component using astro-icon. SVG files are in `src/icons/` directory.
 * Refactored to use Tailwind classes instead of CSS classes.
 */
import { Icon } from 'astro-icon/components'
import type { SpriteName } from './sprites'
import classNames from 'classnames'

export interface Props {
  class?: string,
  name: SpriteName,
  size?: number | string,
  /** Color variant for the icon */
  variant?: 'default' | 'muted' | 'success' | 'warning' | 'inherit',
}

const { class: className, name, size = 24, variant = 'default' } = Astro.props

// Map color variants to Tailwind classes using CSS custom properties
const colorClasses = {
  default: 'text-[color:var(--color-theme-sprites)] fill-[color:var(--color-theme-sprites)]',
  muted: 'text-[color:var(--color-theme-text-muted)] fill-[color:var(--color-theme-text-muted)]',
  success: 'text-[color:var(--color-theme-success)] fill-[color:var(--color-theme-success)]',
  warning: 'text-[color:var(--color-theme-warning)] fill-[color:var(--color-theme-warning)]',
  inherit: 'text-inherit fill-inherit'
}

// Base classes for the icon
const baseClasses = 'inline-block align-middle'
---

<Icon
  name={name}
  class={classNames(baseClasses, colorClasses[variant], `icon--${name}`, className)}
  size={size}
  aria-hidden="true"
/>
