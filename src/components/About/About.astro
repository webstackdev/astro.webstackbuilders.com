---
// About component for displaying company information
import { getCollection } from 'astro:content'

export interface Props {
  title?: string
  aboutSlug?: string
}

const {
  title = "About Us",
  aboutSlug = "company-overview"
} = Astro.props

// Get about content from collection
const aboutEntries = await getCollection('about')
const aboutEntry = aboutEntries.find(entry => entry.id === aboutSlug)
---

{aboutEntry && (
  <section class="mod-about">
    <h2 class="mod-about__header">{title}</h2>
    <div class="mod-about__content">
      <h3 class="mod-about__title">{aboutEntry.data.title}</h3>
      <div class="mod-about__body">
        {aboutEntry.body}
      </div>
    </div>
  </section>
)}

{!aboutEntry && (
  <section class="mod-about">
    <h2 class="mod-about__header">{title}</h2>
    <div class="mod-about__content">
      <p>About content not found.</p>
    </div>
  </section>
)}